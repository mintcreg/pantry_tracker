<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Backup & Restore Database</title>
    <link rel="stylesheet" href="static/style.css">
    <script>
        // Show confirmation prompt after a successful upload
        function showConfirmation() {
            alert("Database uploaded successfully!");
        }
    </script>
</head>
<body>
<div class="container">

    <h1>Backup & Restore Database</h1>
	
	    <!-- Back to Pantry Manager at the top -->
    <div style="text-align: center; margin-bottom: 20px;">
        <a href="{{ base_path }}" class="add-row-btn">
			Back to Pantry Manager
		</a>
    </div>

    <!-- Two form sections side-by-side -->
    <div class="generate-form" style="display: flex; flex-wrap: wrap; justify-content: space-between; align-items: flex-start;">
        <!-- Download Section (Left) -->
        <div class="form-section" style="flex: 0 0 41%;">
            <h2>Download Current Database</h2>
            <p>You can download the current database to keep a backup:</p>
			<br>
            <a href="download_db" class="add-row-btn" style="text-decoration: none;">Download DB</a>
        </div>

        <!-- Separator Line -->
        <div class="line-separator"></div>

        <!-- Upload Section (Right) -->
        <div class="form-section" style="flex: 0 0 41%;">
            <h2>Upload a Database Backup</h2>
            <p>If you have a previously saved backup, you can upload it to restore:</p>
            <form action="upload_db" method="post" enctype="multipart/form-data" class="backup-form" onsubmit="showConfirmation()">
				<label for="file-upload" class="file-upload-btn">Choose File</label>
				<input id="file-upload" type="file" name="file" accept=".db" required>
				<input type="submit" value="Upload" class="add-row-btn">
			</form>

        </div>
    </div>
	<!-- Attribution Section -->
	<div class="attribution">
		<p>
			Powered by data from <a href="https://world.openfoodfacts.org" target="_blank" rel="noopener noreferrer">OpenFoodFacts</a>.
			Built with the assistance of <a href="https://openai.com" target="_blank" rel="noopener noreferrer">ChatGPT by OpenAI</a>.
		</p>
</div>
</div>
</body>
</html>
